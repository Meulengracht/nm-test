Revision: network-manager--MAIN--0--patch-672
Archive: network-manager@bazaar.ubuntu.com
Creator: Arch Librarian <arch@canonical.com>
Date: Sat Aug 13 16:21:24 BST 2005
Standard-date: 2005-08-13 15:21:24 GMT
Modified-files: ChangeLog src/NetworkManager.c
    src/NetworkManagerDbus.c src/NetworkManagerMain.h
New-patches: network-manager@bazaar.ubuntu.com/network-manager--MAIN--0--patch-672
Summary: 2005-06-23  Dan Williams <dcbw@redhat.com>
CSCVSID: MAIN.673
Keywords: cscvs:MAIN.673

Author: dcbw
Date: 2005-06-23 12:20:31 GMT
2005-06-23  Dan Williams <dcbw@redhat.com>

	* src/NetworkManager.c
	  src/NetworkManagerMain.h
		- (nm_get_hal_ctx): new function, move Hal initialization code here
		- (nm_hal_init): new function, init libhal context then add devices
		- (nm_hal_deinit): new function, clean up libhal context
		- (nm_data_free): Move Hal cleanup here
		- (main): check whether Hal is running, and if so, get a list of
			network devices from it

	* src/NetworkManagerDbus.c
		- (nm_dbus_signal_filter): trap NameOwnerChanged signals for Hal,
			and when it appears, get a list of network devices from it.  If
			Hal goes away, clean up the libhal context
