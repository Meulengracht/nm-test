Revision: network-manager--MAIN--0--patch-296
Archive: network-manager@bazaar.ubuntu.com
Creator: Arch Librarian <arch@canonical.com>
Date: Sat Aug 13 15:57:35 BST 2005
Standard-date: 2005-08-13 14:57:35 GMT
Modified-files: ChangeLog
    info-daemon/NetworkManagerInfoDbus.c
New-patches: network-manager@bazaar.ubuntu.com/network-manager--MAIN--0--patch-296
Summary: 2004-11-11  Colin Walters  <walters@verbum.org>
CSCVSID: MAIN.297
Keywords: cscvs:MAIN.297

Author: walters
Date: 2004-11-12 01:59:21 GMT
2004-11-11  Colin Walters  <walters@verbum.org>

	* info-daemon/NetworkManagerInfoDbus.c (nmi_dbus_is_running):
	Delete.
	(nmi_dbus_service_init): Call dbus_bus_acquire_service with
	the DBUS_SERVICE_FLAG_PROHIBIT_REPLACEMENT flag, and
	then check the result for DBUS_SERVICE_REPLY_SERVICE_EXISTS.
	This avoids a race condition that made it pretty easily
	possible to get two NetworkManagerInfo daemons running.
