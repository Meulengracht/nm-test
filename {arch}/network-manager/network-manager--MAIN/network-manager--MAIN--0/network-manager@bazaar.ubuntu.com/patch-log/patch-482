Revision: network-manager--MAIN--0--patch-482
Archive: network-manager@bazaar.ubuntu.com
Creator: Arch Librarian <arch@canonical.com>
Date: Sat Aug 13 16:08:16 BST 2005
Standard-date: 2005-08-13 15:08:16 GMT
New-files: src/.arch-ids/nm-netlink-monitor.c.id
    src/.arch-ids/nm-netlink-monitor.h.id
    src/nm-netlink-monitor.c src/nm-netlink-monitor.h
Modified-files: ChangeLog
    info-daemon/NetworkManagerInfoDbus.c
    panel-applet/NMWirelessAppletDbus.c src/Makefile.am
    src/NetworkManager.c src/NetworkManagerDbus.c
    src/NetworkManagerDevice.c src/NetworkManagerDevice.h
    src/NetworkManagerMain.h src/NetworkManagerPolicy.c
    src/autoip.c src/nm-dbus-device.c src/nm-dbus-net.c
New-patches: network-manager@bazaar.ubuntu.com/network-manager--MAIN--0--patch-482
Summary: 2005-03-11  Ray Strode  <rstrode@redhat.com>
CSCVSID: MAIN.483
Keywords: cscvs:MAIN.483

Author: halfline
Date: 2005-03-11 20:12:56 GMT
2005-03-11  Ray Strode  <rstrode@redhat.com>

	Third (unfinished, partially working) cut at porting to
	dbus 0.30 api and new hal.

	* info-daemon/NetworkManagerInfoDbus.c:
		don't free null arrays.

	* panel-applet/NMWirelessAppletDbus.c:
	* src/nm-dbus-device.c:
	* src/nm-dbus-net.c:
	* src/NetworkManagerDbus.c: more
 	STRING -> OBJECT_PATH fun
	* src/NetworkManagerDevice.c:
	* src/NetworkManagerDevice.h:
	(rename nm_device_get_link_active): rename to
	nm_device_has_active_link
	(nm_device_wireless_link_active): rename to
	nm_device_probe_wireless_link_state
	(nm_device_wired_link_active): rename to
	nm_device_probe_wired_link_state.  Rewrite to
	use carrier file since hal doesn't maintain
	link state anymore.
	(nm_device_update_link_active): rename to
	nm_device_update_link_state
	* src/NetworkManagerPolicy.c
	  (nm_policy_activation_finish): check for NULL
	  MAC address.

	* src/Makefile.am:
	* src/NetworkManagerMain.h:
	* src/NetworkManager.c:
	* src/nm-netlink-monitor.c:
	* src/nm-netlink-monitor.h: New class to support
	monitoring wired ethernet link status, since HAL
	doesn't export that information anymore.
